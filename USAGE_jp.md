# RmppAtom 使用方法

## Wi-Fi接続
 本パワーパックはWi-Fiで接続して使用し、アクセスポイントモード（親機）、またはステーションモード（子機）として動作できます。

### スマートフォン等の端末を直接接続する場合
 1. パワーパックをアクセスポイントモードに切り替えます。
 1. スマートフォン等の端末でパワーパックのSSID（RmppAtom-softAP）を選択し、パスワード（p@ass1234）を入力して接続します。
 1. SSID、及びパスワードは、シリアル通信コマンドを使用して変更できます。

### Wi-Fiルータ等のアクセスポイントを経由して接続する場合
 1. パワーパックをステーションモードに切り替えます。
 1. シリアル通信コマンドを使用して、アクセスポイントのSSIDとパスワードを設定します。SSIDとパスワードは、パワーパック内の不揮発性メモリに保存されます。
 1. 保存されたSSIDとパスワードを使用して、パワーパックは自動的にアクセスポイントに接続します。
 1. 初期設定では、アクセスポイントからIPアドレスを自動取得します。DHCPサーバが利用できない場合など、IPアドレスを固定する必要がある場合は、シリアル通信コマンドを使用して変更してください。

### アクセスポイントモード／ステーションモードの切り替え
 1. ATOM Liteの操作ボタンを0.5秒以上長押しします。モード設定が完了すると、ATOM LiteのLEDが点滅します。
 1. 次に、ATOM Liteのリセットボタンを押します。パワーパックは切り替え後のモードで動作を開始します。

## 基本操作
 1. スマートフォン等のWebブラウザで、パワーパックの操作画面を開きます。URLには、パワーパックのホスト名（rmpp-atom.local）、またはIPアドレスを入力してください。ホスト名は、シリアル通信コマンドを使用して、任意の名前に変更できます。
 1. 操作画面が開くと、入力電圧やCPUの温度が表示されます。
 1. Forwardボタン、又はReverseをタップします。出力がオンになると、タップしたボタンが緑色になります。
 1. スライダーで速度を調整します。
 1. OFFボタンをタップします。出力がオフになると、緑色だったボタンが元の色に戻ります。

## 進行方向の切り替え
 1. スライダーで速度を0にするか、Stopボタンをタップします。
 1. OFFボタンをタップします。
 1. Forwardボタン、又はReverseをタップして、進行方向を切り替えます。

## 緊急停止
 1. OFFボタンをタップするか、ATOM Liteの操作ボタンを押します。走行中でも直ちに出力がオフになります。

## LED表示

<table>
	<thead>
		<tr>
			<th rowspan="2">状態</th>
			<th rowspan="2">点灯パターン</th>
			<th colspan="2">点灯色</th>
		</tr><tr>
			<th>ステーションモード</th>
			<th>アクセスポイントモード</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>初期化中</td>
			<td>点灯</td>
			<td>White</td>
			<td>White</td>
		</tr><tr>
			<td>アクセスポイントへ接続中</td>
			<td>高速点滅</td>
			<td>Blue</td>
			<td>---</td>
		</tr><tr>
			<td>出力オフ(Webブラウザ未接続)</td>
			<td>点滅 (オン時間が短い)</td>
			<td>Blue</td>
			<td>Magenta</td>
		</tr><tr>
			<td>出力オフ(Webブラウザ接続済)</td>
			<td>点滅 (オン時間が長い)</td>
			<td>Blue</td>
			<td>Magenta</td>
		</tr><tr>
			<td>出力オン</td>
			<td>点滅 (オン時間が長い)</td>
			<td>Green</td>
			<td>Green</td>
		</tr><tr>
			<td>保護機能作動</td>
			<td>高速点滅</td>
			<td>Red</td>
			<td>Red</td>
		</tr>
	</tbody>
</table>

## シリアル通信コマンド
 シリアル通信、又はWeb画面を通じて、設定変更などを行うことができます。

### 接続設定

#### Wi-Fi認証情報（ステーションモード）
 パワーパックとスマートフォン等の端末をWi-Fiルータ等を経由して接続する場合、Wi-Fiルータ等のアクセスポイントのSSIDとパスワードを設定します。<br/>
 **コマンド例 :** `WIFI mySSID myPassword`

#### Wi-Fi認証情報（アクセスポイントモード）
 パワーパックとスマートフォン等の端末を直接接続する場合、アクセスポイントとして動作するパワーパックのSSIDとパスワードを設定します。リセット後に設定が反映されます。<br/>
 **コマンド例 :** `WFAP mySSID myPassword`

#### ホスト名設定
 mDNS（Multicast DNS）用のホスト名を設定します。リセット後に設定が反映されます。<br/>
 **コマンド例 :** `HOST MyDevice`

### TCP/IP設定

#### ローカルアドレス
 パワーパックのローカルアドレスを固定して使用する場合に設定します。リセット後に設定が反映されます。設定しない場合は自動割当となります。<br/>
 **コマンド例 :** `IPAD 192.168.0.1`

#### デフォルトゲートウェイ
 デフォルトゲートウェイのIPを設定します。リセット後に設定が反映されます。<br/>
 **コマンド例 :** `GWAY 192.168.0.1`

#### サブネットマスク
 サブネットマスクを設定します。リセット後に設定が反映されます。<br/>
 **コマンド例 :** `SNET 255.255.255.0`

## その他
 - 出力をオンにしている間は、スマートフォン等の端末のスリープが抑制されます。
 - パワーパックとWebブラウザの通信が途絶えた場合、安全のため、出力がオフになります。
